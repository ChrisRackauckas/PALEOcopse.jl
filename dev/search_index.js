var documenterSearchIndex = {"docs":
[{"location":"References/#References","page":"References","title":"References","text":"","category":"section"},{"location":"References/","page":"References","title":"References","text":"","category":"page"},{"location":"indexpage/#Index","page":"Index","title":"Index","text":"","category":"section"},{"location":"indexpage/","page":"Index","title":"Index","text":"","category":"page"},{"location":"PALEOcopse/#PALEOcopse-Reactions","page":"PALEOcopse Reactions","title":"PALEOcopse Reactions","text":"","category":"section"},{"location":"PALEOcopse/","page":"PALEOcopse Reactions","title":"PALEOcopse Reactions","text":"CurrentModule = PALEOcopse.Forcings","category":"page"},{"location":"PALEOcopse/#Forcings","page":"PALEOcopse Reactions","title":"Forcings","text":"","category":"section"},{"location":"PALEOcopse/","page":"PALEOcopse Reactions","title":"PALEOcopse Reactions","text":"COPSEForcings.ReactionForce_CK_Solar\nCOPSEForcings.ReactionForce_UDWEbergman2004\nCOPSEForcings.COPSEForcings.ReactionForce_Bbergman2004\nCOPSEForcings.ReactionForce_CPlandrelbergman2004\nCOPSEForcings.ReactionForce_spreadsheet\nLipForcing.ReactionForce_LIPs","category":"page"},{"location":"PALEOcopse/#PALEOcopse.Forcings.COPSEForcings.ReactionForce_CK_Solar","page":"PALEOcopse Reactions","title":"PALEOcopse.Forcings.COPSEForcings.ReactionForce_CK_Solar","text":"ReactionForce_CK_Solar\n\nSOLAR forcing (incident solar flux at Earth, W m^-2)\n\n\n\n\n\n","category":"type"},{"location":"PALEOcopse/#PALEOcopse.Forcings.COPSEForcings.ReactionForce_UDWEbergman2004","page":"PALEOcopse Reactions","title":"PALEOcopse.Forcings.COPSEForcings.ReactionForce_UDWEbergman2004","text":"ReactionForce_UDWEbergman2004\n\nCOPSE Bergman(2004) forcings from file.\n\nProvides:\n\nUPLIFT  tectonic uplift. GEOCARB II (Berner 1994) based on Sr isotopes.\nDEGASS  metamorphic and volcanic degassing.      Bergman etal (2004), same as GEOCARB II (Berner 1994):      Engerbretson etal (1992) seafloor subduction (spreading) rate 0 - 150Ma,      Gaffin (1987) Paleo-sealevel based 570 - 150Ma\nEVO  land plant evolution and colonisation.     Bergman etal (2004)\nW  biological enhancement of weathering.    Bergman etal (2004)\n\nInterpolates and optionally applies naive extrapolation of forcings into (constant) Precambrian and future\n\n\n\n\n\n","category":"type"},{"location":"PALEOcopse/#PALEOcopse.Forcings.COPSEForcings.ReactionForce_Bbergman2004","page":"PALEOcopse Reactions","title":"PALEOcopse.Forcings.COPSEForcings.ReactionForce_Bbergman2004","text":"ReactionForce_Bbergman2004\n\nBforcing forcing, calcerous plankton evolution (COPSE 2004)\n\n\n\n\n\n","category":"type"},{"location":"PALEOcopse/#PALEOcopse.Forcings.COPSEForcings.ReactionForce_CPlandrelbergman2004","page":"PALEOcopse Reactions","title":"PALEOcopse.Forcings.COPSEForcings.ReactionForce_CPlandrelbergman2004","text":"ReactionForce_CPlandrelbergman2004\n\nCPland_relative forcing. CP land burial ratio doubles in permo-carboniferous (COPSE)\n\n\n\n\n\n","category":"type"},{"location":"PALEOcopse/#PALEOcopse.Forcings.COPSEForcings.ReactionForce_spreadsheet","page":"PALEOcopse Reactions","title":"PALEOcopse.Forcings.COPSEForcings.ReactionForce_spreadsheet","text":"ReactionForce_spreadsheet\n\nGeneric forcing interpolated from values in spreadsheet. Spreadsheet should contain a table of numeric data in Sheet1, with a single header row, and time in Ma as the first column.\n\nInterpolates and optionally applies naive extrapolation of forcings into (constant) Precambrian and future\n\n\n\n\n\n","category":"type"},{"location":"PALEOcopse/#PALEOcopse.Forcings.LipForcing.ReactionForce_LIPs","page":"PALEOcopse Reactions","title":"PALEOcopse.Forcings.LipForcing.ReactionForce_LIPs","text":"ReactionForce_LIPs\n\nLIP basalt area and optional CO2 forcing (Benjamin Mills, Stuart J Daines, Timothy M Lenton (2014)), updated in Timothy M. Lenton, Stuart J Daines, Benjamin J.W. Mills (2018) COPSE Reloaded).\n\nReads spreadsheet table of LIP data, and creates per-LIP area vs time profile including weathering reduction in area. A default area reduction rate (applied to those LIPs where it is poorly constrained) is tuned to match overall modern continental flood basalt area.\n\nIf Parameter co2releasefield != NoCO2, a CO2 pulse (duration 2e5yr, magnitude from spreadsheet, -5 per mil) is output as LIP_CO2 and added to Variable flux_C -> fluxSedCrusttoAOcean.flux_C.\n\n\n\n\n\n","category":"type"},{"location":"PALEOcopse/","page":"PALEOcopse Reactions","title":"PALEOcopse Reactions","text":"CurrentModule = PALEOcopse.COPSE","category":"page"},{"location":"PALEOcopse/#COPSE","page":"PALEOcopse Reactions","title":"COPSE","text":"","category":"section"},{"location":"PALEOcopse/","page":"PALEOcopse Reactions","title":"PALEOcopse Reactions","text":"ModelBergman2004.ReactionModelBergman2004\nCIsotopes.ReactionCIsotopes\nMapAtmOceanReservoirs.ReactionAtmOcean_O\nMapAtmOceanReservoirs.ReactionAtmOcean_A","category":"page"},{"location":"PALEOcopse/#PALEOcopse.COPSE.ModelBergman2004.ReactionModelBergman2004","page":"PALEOcopse Reactions","title":"PALEOcopse.COPSE.ModelBergman2004.ReactionModelBergman2004","text":"ReactionModelBergman2004\n\nMonolithic COPSE Bergman(2004) model, providing all biogeochemistry as a single Reaction in a single global Domain.\n\nRequires reservoirs, forcings, and global temperature (ReactionGlobalTemperatureCK1992) to form a complete model.\n\n\n\n\n\n","category":"type"},{"location":"PALEOcopse/#PALEOcopse.COPSE.CIsotopes.ReactionCIsotopes","page":"PALEOcopse Reactions","title":"PALEOcopse.COPSE.CIsotopes.ReactionCIsotopes","text":"ReactionCIsotopes\n\nCarbon isotope fractionation from Bergman (2004) COPSE biogeochemical model. \n\nCalculates global mean isotope fractionation for marine carbonate burial and land and ocean organic carbon burial from global mean TEMP, pCO2PAL and pO2PAL.\n\n\n\n\n\n","category":"type"},{"location":"PALEOcopse/#PALEOcopse.COPSE.MapAtmOceanReservoirs.ReactionAtmOcean_O","page":"PALEOcopse Reactions","title":"PALEOcopse.COPSE.MapAtmOceanReservoirs.ReactionAtmOcean_O","text":"ReactionAtmOcean_O\n\nCombined atmosphere + ocean scalar O (oxygen) reservoir for use with COPSE model.\n\nProvides state variable O (O2 in moles), state variable  time derivative O_sms (mol yr-1) and  O_norm (O normalized by O:norm_value attribute, which should be set in .yaml config file to present-day atmospheric value).\n\nAlso calculates additional quantities pO2atm (partial pressure in bar), and pO2PAL (equal to O_norm), which should usually be relinked to the atm Domain in the config file. Assumes ocean oxygen is a neglible fraction of the total.\n\n\n\n\n\n","category":"type"},{"location":"PALEOcopse/#PALEOcopse.COPSE.MapAtmOceanReservoirs.ReactionAtmOcean_A","page":"PALEOcopse Reactions","title":"PALEOcopse.COPSE.MapAtmOceanReservoirs.ReactionAtmOcean_A","text":"ReactionAtmOcean_A\n\nAtmosphere-ocean inorganic carbon A reservoir, for use with the COPSE model.\n\nProvides state variable A (total C in atmospheric CO2 and ocean DIC, in moles),  state variable  time derivative A_sms (mol yr-1) and  A_norm (A normalized by A:norm_value attribute, which should be set in .yaml config file to the pre-industrial value of 3.193e18 mol).\n\nAlso calculates partitioning into atmosphere and ocean (atm-ocean fraction phi) and  atmospheric pCO2atm (partial pressure in bar), and pCO2PAL, which should usually be relinked to the atm Domain in the config file.\n\nThe calculation of phi atm-ocean fraction is set by Parameter f_atfrac:\n\noriginal:  fixed phi, as used in the original COPSE model N. M. Bergman, Timothy M Lenton, Andrew J Watson (2004).\nquadratic: phi proportional to A, approximating the behaviour of the carbonate system assuming carbonate saturation hence [CO3--] carbonate ion concentration is approximately constant.\n\nIf Parameter delta_atm_ocean == true, also calculates atmosphere CO2 and ocean DIC isotopic fractionation.\n\n\n\n\n\n","category":"type"},{"location":"PALEOcopse/","page":"PALEOcopse Reactions","title":"PALEOcopse Reactions","text":"CurrentModule = PALEOcopse.Global","category":"page"},{"location":"PALEOcopse/#Global","page":"PALEOcopse Reactions","title":"Global","text":"","category":"section"},{"location":"PALEOcopse/","page":"PALEOcopse Reactions","title":"PALEOcopse Reactions","text":"Temperature.ReactionGlobalTemperatureCK1992\nTemperature.ReactionGlobalTemperatureBerner","category":"page"},{"location":"PALEOcopse/#PALEOcopse.Global.Temperature.ReactionGlobalTemperatureCK1992","page":"PALEOcopse Reactions","title":"PALEOcopse.Global.Temperature.ReactionGlobalTemperatureCK1992","text":"ReactionGlobalTemperatureCK1992\n\nGlobal temperature iterative calculation from SOLAR forcing, pCO2atm. Provides a TEMP state variable, with either an error term for a DAE solver (if temp_DAE = true),  or a restoring term for an ODE solver (if temp_DAE = false).\n\nValid range: 1e-8 < pCO2atm < 1e-2 (bar), 273.15 < TEMP < 283.15 (K)\n\n\n\n\n\n","category":"type"},{"location":"PALEOcopse/#PALEOcopse.Global.Temperature.ReactionGlobalTemperatureBerner","page":"PALEOcopse Reactions","title":"PALEOcopse.Global.Temperature.ReactionGlobalTemperatureBerner","text":"ReactionGlobalTemperatureBerner\n\nGlobal temperature calculation from pCO2, with implicit change in solar luminosity (calculated from forcing time tforce).\n\n\n\n\n\n","category":"type"},{"location":"PALEOcopse/#BioGeoChem","page":"PALEOcopse Reactions","title":"BioGeoChem","text":"","category":"section"},{"location":"PALEOcopse/","page":"PALEOcopse Reactions","title":"PALEOcopse Reactions","text":"CurrentModule = PALEOcopse.BioGeoChem","category":"page"},{"location":"PALEOcopse/#Isotope-systems","page":"PALEOcopse Reactions","title":"Isotope systems","text":"","category":"section"},{"location":"PALEOcopse/#Strontium","page":"PALEOcopse Reactions","title":"Strontium","text":"","category":"section"},{"location":"PALEOcopse/","page":"PALEOcopse Reactions","title":"PALEOcopse Reactions","text":"Strontium\nStrontium.ReactionSrMantleCrust\nStrontium.ReactionSrSed\nStrontium.ReactionSrLand\nStrontium.ReactionSrOceanfloor","category":"page"},{"location":"PALEOcopse/#PALEOcopse.BioGeoChem.Strontium","page":"PALEOcopse Reactions","title":"PALEOcopse.BioGeoChem.Strontium","text":"Strontium\n\nStrontium system with 87Sr/86Sr.\n\nBased on L. M. Francois, J. C. G. Walker (1992). This implementation is described in  Benjamin Mills, Stuart J Daines, Timothy M Lenton (2014), Timothy M. Lenton, Stuart J Daines, Benjamin J.W. Mills (2018).\n\nA Sr model configuration should contain the following Reservoirs and Reactions:\n\nDomain name Reservoirs Reactions\nsedcrust Sr_sed ReactionSrMantleCrust, ReactionSrSed\nland  ReactionSrLand\nocean Sr \noceanfloor  ReactionSrOceanfloor\n\n\n\n\n\n","category":"module"},{"location":"PALEOcopse/#PALEOcopse.BioGeoChem.Strontium.ReactionSrMantleCrust","page":"PALEOcopse Reactions","title":"PALEOcopse.BioGeoChem.Strontium.ReactionSrMantleCrust","text":"ReactionSrMantleCrust\n\nCalculate strontium isotope composition of mantle, old (granite), and new (basalt) igneous rocks as a function of time, given present day isotopic composition and an initial uniform value at the formation of the Earth. Assumes all subsequent evolution was due to Rb decay with different Rb/Sr ratios (ie no exchange between these mantle and rock reserovirs).\n\n\n\n\n\n","category":"type"},{"location":"PALEOcopse/#PALEOcopse.BioGeoChem.Strontium.ReactionSrSed","page":"PALEOcopse Reactions","title":"PALEOcopse.BioGeoChem.Strontium.ReactionSrSed","text":"ReactionSrSed\n\nCalculate contribution to rate of change of a sedimentary Sr_sed reservoir due to metamorphic loss, and Rb decay.\n\n\n\n\n\n","category":"type"},{"location":"PALEOcopse/#PALEOcopse.BioGeoChem.Strontium.ReactionSrLand","page":"PALEOcopse Reactions","title":"PALEOcopse.BioGeoChem.Strontium.ReactionSrLand","text":"ReactionSrLand\n\nCalculate Sr weathering flux from land surface, given relative (normalized) basalt, granite, carbonate weathering rates and Sr isotopic composition.\n\n\n\n\n\n","category":"type"},{"location":"PALEOcopse/#PALEOcopse.BioGeoChem.Strontium.ReactionSrOceanfloor","page":"PALEOcopse Reactions","title":"PALEOcopse.BioGeoChem.Strontium.ReactionSrOceanfloor","text":"ReactionSrOceanfloor\n\nCalculate evolution of an oceanSr reservoir due to ocean burial (assumed proportional to carbonate burial),  seafloor weathering, and hydrothermal (mantle) input fluxes.\n\n\n\n\n\n","category":"type"},{"location":"PALEOcopse/#Land","page":"PALEOcopse Reactions","title":"Land","text":"","category":"section"},{"location":"PALEOcopse/","page":"PALEOcopse Reactions","title":"PALEOcopse Reactions","text":"CurrentModule = PALEOcopse.Land","category":"page"},{"location":"PALEOcopse/","page":"PALEOcopse Reactions","title":"PALEOcopse Reactions","text":"LandBergman2004.ReactionLandBergman2004\nLandArea.ReactionLandArea\nLandCOPSEReloaded.ReactionLandBiota\nLandCOPSEReloaded.ReactionLandWeatheringRates\nLandCOPSEReloaded.ReactionLandWeatheringFluxes","category":"page"},{"location":"PALEOcopse/#PALEOcopse.Land.LandBergman2004.ReactionLandBergman2004","page":"PALEOcopse Reactions","title":"PALEOcopse.Land.LandBergman2004.ReactionLandBergman2004","text":"COPSE Bergman(2004) land surface\n\n\n\n\n\n","category":"type"},{"location":"PALEOcopse/#PALEOcopse.Land.LandArea.ReactionLandArea","page":"PALEOcopse Reactions","title":"PALEOcopse.Land.LandArea.ReactionLandArea","text":"ReactionLandArea\n\nCalculate land areas and lithology.\n\nProvides GRAN_AREA and BA_AREA.\n\n\n\n\n\n","category":"type"},{"location":"PALEOcopse/#PALEOcopse.Land.LandCOPSEReloaded.ReactionLandBiota","page":"PALEOcopse Reactions","title":"PALEOcopse.Land.LandCOPSEReloaded.ReactionLandBiota","text":"ReactionLandBiota\n\nCOPSE Reloaded(2018) land biota. Calculates VEG, representing land plant coverage and biomass.\n\nIn a scalar (0D) Domain, this functions as in COPSE to calculate a global mean.\n\nIn a spatially-resolved Domain, this calculates local properties using local TEMP.\n\n\n\n\n\n","category":"type"},{"location":"PALEOcopse/#PALEOcopse.Land.LandCOPSEReloaded.ReactionLandWeatheringRates","page":"PALEOcopse Reactions","title":"PALEOcopse.Land.LandCOPSEReloaded.ReactionLandWeatheringRates","text":"ReactionLandWeatheringRates\n\nCOPSE Reloaded(2018) weathering rates. Calculates weathering rates as a function of temperature, pCO2, pO2 and biosphere VEG and biological weathering enhancement W.\n\nIn a scalar (0D) Domain, this functions as in COPSE to calculate global mean rates.\n\nIn a spatially-resolved Domain, this calculates local rates (use 'f_runoff' parameter to choose an appropriate hydrological parameterisation based on a supplied spatially-varying runoff (kg m-2 s-1)).\n\n\n\n\n\n","category":"type"},{"location":"PALEOcopse/#PALEOcopse.Land.LandCOPSEReloaded.ReactionLandWeatheringFluxes","page":"PALEOcopse Reactions","title":"PALEOcopse.Land.LandCOPSEReloaded.ReactionLandWeatheringFluxes","text":"ReactionLandWeatheringFluxes\n\nCOPSE Reloaded(2018) weathering fluxes. Calculates and applies global weathering fluxes and land burial given weathering rates and land areas.\n\nFluxes are added to flux couplers:\n\nfluxAtoLand:  CO2 and O2 exchange with atmosphere\nfluxRtoOcean: riverine fluxes\nfluxLandtoSedCrust: sedimentary reservoir weathering and land organic carbon burial\n\n\n\n\n\n","category":"type"},{"location":"PALEOcopse/#Ocean","page":"PALEOcopse Reactions","title":"Ocean","text":"","category":"section"},{"location":"PALEOcopse/","page":"PALEOcopse Reactions","title":"PALEOcopse Reactions","text":"CurrentModule = PALEOcopse.Ocean","category":"page"},{"location":"PALEOcopse/","page":"PALEOcopse Reactions","title":"PALEOcopse Reactions","text":"OceanCOPSE.ReactionOceanCOPSE","category":"page"},{"location":"PALEOcopse/#PALEOcopse.Ocean.OceanCOPSE.ReactionOceanCOPSE","page":"PALEOcopse Reactions","title":"PALEOcopse.Ocean.OceanCOPSE.ReactionOceanCOPSE","text":"ReactionOceanCOPSE\n\nCOPSE Bergman(2004), COPSE Reloaded Lenton etal (2018) 0D ocean\n\nFluxes are added to flux couplers:\n\nfluxOceanBurial: ocean burial fluxes\n\n\n\n\n\n","category":"type"},{"location":"PALEOcopse/#Ocean-floor","page":"PALEOcopse Reactions","title":"Ocean floor","text":"","category":"section"},{"location":"PALEOcopse/","page":"PALEOcopse Reactions","title":"PALEOcopse Reactions","text":"CurrentModule = PALEOcopse.Oceanfloor","category":"page"},{"location":"PALEOcopse/#Seafloor-weathering","page":"PALEOcopse Reactions","title":"Seafloor weathering","text":"","category":"section"},{"location":"PALEOcopse/","page":"PALEOcopse Reactions","title":"PALEOcopse Reactions","text":"Weathering.ReactionSeafloorWeathering","category":"page"},{"location":"PALEOcopse/#PALEOcopse.Oceanfloor.Weathering.ReactionSeafloorWeathering","page":"PALEOcopse Reactions","title":"PALEOcopse.Oceanfloor.Weathering.ReactionSeafloorWeathering","text":"ReactionSeafloorWeathering\n\nCOPSE Reloaded (Lenton etal 2018) seafloor weathering (basalt carbonation).\n\nIn a spatially resolved oceanfloor Domain, the total flux is calculated in the same way as for the 0D COPSE model, and is then distributed over a range of oceanfloor cells according the Paramter sfw_distribution_method.\n\nFluxes are added to flux couplers:\n\nfluxOceanfloor: ocean solute fluxes\nfluxOceanBurial: carbonate burial flux\n\n\n\n\n\n","category":"type"},{"location":"PALEOcopse/#Sedcrust","page":"PALEOcopse Reactions","title":"Sedcrust","text":"","category":"section"},{"location":"PALEOcopse/","page":"PALEOcopse Reactions","title":"PALEOcopse Reactions","text":"CurrentModule = PALEOcopse.SedCrust","category":"page"},{"location":"PALEOcopse/","page":"PALEOcopse Reactions","title":"PALEOcopse Reactions","text":"SedCrustCOPSE.ReactionSedCrustCOPSE","category":"page"},{"location":"PALEOcopse/#PALEOcopse.SedCrust.SedCrustCOPSE.ReactionSedCrustCOPSE","page":"PALEOcopse Reactions","title":"PALEOcopse.SedCrust.SedCrustCOPSE.ReactionSedCrustCOPSE","text":"ReactionSedCrustCOPSE\n\nCOPSE Bergman(2004), COPSE Reloaded Lenton etal (2018) metamorphic and volcanic \"degassing\" of sedimentary carbon and sulphur reservoirs.\n\nFluxes are added to flux couplers:\n\nfluxSedCrusttoAOcean:  carbon and sulphur \"degassing\" fluxes\n\n\n\n\n\n","category":"type"},{"location":"COPSE_Domains/#PALEO-COPSE-Domains","page":"PALEO COPSE Domains","title":"PALEO COPSE Domains","text":"","category":"section"},{"location":"COPSE_Domains/","page":"PALEO COPSE Domains","title":"PALEO COPSE Domains","text":"The PALEO version of the COPSE Reloaded model is componentized into land, atmosphere, ocean, oceanfloor and sedcrust Domains with explicit transfer of biogeochemical fluxes between them (Figure 1), allowing the PALEO Reactions for each Domain to be reused to create a hierarchy of coupled models eg including a spatially-resolved ocean component.","category":"page"},{"location":"COPSE_Domains/","page":"PALEO COPSE Domains","title":"PALEO COPSE Domains","text":"The implementation is mathematically equivalent to the Matlab version using for the paper (Timothy M. Lenton, Stuart J Daines, Benjamin J.W. Mills (2018)) and is tested against archived model output.","category":"page"},{"location":"COPSE_Domains/","page":"PALEO COPSE Domains","title":"PALEO COPSE Domains","text":"(Image: )","category":"page"},{"location":"COPSE_Domains/#Figure-1","page":"PALEO COPSE Domains","title":"Figure 1","text":"","category":"section"},{"location":"COPSE_Domains/","page":"PALEO COPSE Domains","title":"PALEO COPSE Domains","text":"PALEO COPSE reloaded model Domains (black), flux coupler Domains (green), and biogeochemical Reservoirs (blue). The 'atmocean' Domain contains the COPSE A and O Reservoirs, which represent combined atmosphere + ocean inorganic carbon and oxygen respectively. The 'global' Domain hosts Forcing Reactions, ReactionSum to check budgets, and a Reaction to calculate global mean temperature.","category":"page"},{"location":"ExampleCOPSEreloaded/#COPSE-Reloaded","page":"COPSE Reloaded","title":"COPSE Reloaded","text":"","category":"section"},{"location":"ExampleCOPSEreloaded/","page":"COPSE Reloaded","title":"COPSE Reloaded","text":"These examples demonstrate COPSE reloaded (Timothy M. Lenton, Stuart J Daines, Benjamin J.W. Mills (2018)), modularised with an atm/ocean/land/sedcrust split.","category":"page"},{"location":"ExampleCOPSEreloaded/#Activate-the-PALEOcopse/examples-environment","page":"COPSE Reloaded","title":"Activate the PALEOcopse/examples environment","text":"","category":"section"},{"location":"ExampleCOPSEreloaded/","page":"COPSE Reloaded","title":"COPSE Reloaded","text":"First, change the Julia REPL working directory to the PALEOcopse/examples/COPSE folder:","category":"page"},{"location":"ExampleCOPSEreloaded/","page":"COPSE Reloaded","title":"COPSE Reloaded","text":"In VS code, right click on this folder in the file browser and select Julia: Change to This Directory. Or from the REPL, use the cd command):","category":"page"},{"location":"ExampleCOPSEreloaded/","page":"COPSE Reloaded","title":"COPSE Reloaded","text":"julia> cd(\"examples/COPSE\")","category":"page"},{"location":"ExampleCOPSEreloaded/","page":"COPSE Reloaded","title":"COPSE Reloaded","text":"If it is not already active, activate the Julia environment PALEOcopse/examples:","category":"page"},{"location":"ExampleCOPSEreloaded/","page":"COPSE Reloaded","title":"COPSE Reloaded","text":"In VS code, right click on PALEOjulia/PALEOexamples or any subfolder in the file browser and select Julia: Activate Parent Environment. Or from the REPL, use ] to enter package management:","category":"page"},{"location":"ExampleCOPSEreloaded/","page":"COPSE Reloaded","title":"COPSE Reloaded","text":"pwd()\n\"/home/sd336/software/julia/PALEOcopse/examples/COPSE\"\nimport Pkg\nPkg.activate(\"../\")","category":"page"},{"location":"ExampleCOPSEreloaded/#To-run-the-COPSE-Reloaded-baseline-example-for-the-Phanerozoic:","page":"COPSE Reloaded","title":"To run the COPSE Reloaded baseline example for the Phanerozoic:","text":"","category":"section"},{"location":"ExampleCOPSEreloaded/","page":"COPSE Reloaded","title":"COPSE Reloaded","text":"julia> include(\"COPSE_reloaded_reloaded.jl\")","category":"page"},{"location":"ExampleCOPSEreloaded/","page":"COPSE Reloaded","title":"COPSE Reloaded","text":"This will run and plot output (NB: the first run will be slow as Julia JIT compiles the code).","category":"page"},{"location":"ExampleCOPSEreloaded/#To-display-model-Parameters,-Variables,-and-output.","page":"COPSE Reloaded","title":"To display model Parameters, Variables, and output.","text":"","category":"section"},{"location":"ExampleCOPSEreloaded/","page":"COPSE Reloaded","title":"COPSE Reloaded","text":"See PALEOmodel documentation","category":"page"},{"location":"ExampleCOPSEreloaded/#Change-climate-sensitivity-from-default-3C-to-6C-and-compare-pCO2-prediction","page":"COPSE Reloaded","title":"Change climate sensitivity from default 3C to 6C and compare pCO2 prediction","text":"","category":"section"},{"location":"ExampleCOPSEreloaded/","page":"COPSE Reloaded","title":"COPSE Reloaded","text":"See Timothy M. Lenton, Stuart J Daines, Benjamin J.W. Mills (2018) Fig. 11","category":"page"},{"location":"ExampleCOPSEreloaded/","page":"COPSE Reloaded","title":"COPSE Reloaded","text":"Modify parameters and rerun model:","category":"page"},{"location":"ExampleCOPSEreloaded/","page":"COPSE Reloaded","title":"COPSE Reloaded","text":"default_3C_output = run.output  # keep default 3C output\nPB.setvalue!(PB.get_reaction(run.model, \"global\", \"temp_global\").pars.k_c, 8.656)  # change climate sensitivity\nrun.output = PALEOmodel.OutputWriters.OutputMemory()  # new empty output so we don't overwrite earlier ouput\nPALEOmodel.ODE.integrate(run, initial_state, modeldata, (-1000e6, 0), solvekwargs=(reltol=1e-4,)); # rerun","category":"page"},{"location":"ExampleCOPSEreloaded/","page":"COPSE Reloaded","title":"COPSE Reloaded","text":"Compare pCO2:","category":"page"},{"location":"ExampleCOPSEreloaded/","page":"COPSE Reloaded","title":"COPSE Reloaded","text":"using Plots; plotlyjs(size=(750, 500))  # load Julia Plots.jl and choose PlotlyJS backend\npCO2atm_3C = PALEOmodel.get_array(default_3C_output, \"atm.pCO2atm\") # get FieldArray for plotting\nplot(1e6*pCO2atm_3C, label=\"3C default\", ylabel=\"pCO2 (1e-6 atm)\") # plot x1e6\npCO2atm_6C = PALEOmodel.get_array(run.output, \"atm.pCO2atm\")   # get FieldArray\nplot!(1e6*pCO2atm_6C, label=\"6C\", ylabel=\"pCO2 (1e-6 atm)\") # plot x1e6\nplot!(xlim=(-600e6, 0), ylim=(0, 4000))  # rescale axes","category":"page"},{"location":"ExampleCOPSEreloaded/#Jupyter-notebook-version","page":"COPSE Reloaded","title":"Jupyter notebook version","text":"","category":"section"},{"location":"ExampleCOPSEreloaded/","page":"COPSE Reloaded","title":"COPSE Reloaded","text":"The same content as above (with additional examples) is available as the Jupyter notebook COPSE_reloaded_reloaded.ipynb.","category":"page"},{"location":"ExampleCOPSEreloaded/","page":"COPSE Reloaded","title":"COPSE Reloaded","text":"To start Jupyter from within the Julia REPL:","category":"page"},{"location":"ExampleCOPSEreloaded/","page":"COPSE Reloaded","title":"COPSE Reloaded","text":"julia> using IJulia\njulia> notebook(dir=pwd(), detached=true)","category":"page"},{"location":"#PALEOcopse.jl-documentation","page":"PALEOcopse.jl documentation","title":"PALEOcopse.jl documentation","text":"","category":"section"},{"location":"#Installation-and-running-the-model","page":"PALEOcopse.jl documentation","title":"Installation and running the model","text":"","category":"section"},{"location":"#Installation","page":"PALEOcopse.jl documentation","title":"Installation","text":"","category":"section"},{"location":"","page":"PALEOcopse.jl documentation","title":"PALEOcopse.jl documentation","text":"NB: requires Julia 1.6 or later.  To check the Julia version:","category":"page"},{"location":"","page":"PALEOcopse.jl documentation","title":"PALEOcopse.jl documentation","text":"julia> versioninfo()","category":"page"},{"location":"","page":"PALEOcopse.jl documentation","title":"PALEOcopse.jl documentation","text":"Clone this github repository to local directory PALEOcopse: from a linux bash prompt or a Windows terminal,","category":"page"},{"location":"","page":"PALEOcopse.jl documentation","title":"PALEOcopse.jl documentation","text":"$ git clone https://github.com/PALEOtoolkit/PALEOcopse.jl.git PALEOcopse","category":"page"},{"location":"","page":"PALEOcopse.jl documentation","title":"PALEOcopse.jl documentation","text":"Start julia and navigate to the PALEOcopse/examples folder, and run setup.jl to configure the PALEOcopse/examples Julia environment to use the local (downloaded) version of the PALEOcopse package:","category":"page"},{"location":"","page":"PALEOcopse.jl documentation","title":"PALEOcopse.jl documentation","text":"julia> cd(\"PALEOcopse/examples\")\njulia> include(\"setup.jl\") # use the local version of PALEOcopse packages to allow local modifications","category":"page"},{"location":"#Running-the-model","page":"PALEOcopse.jl documentation","title":"Running the model","text":"","category":"section"},{"location":"","page":"PALEOcopse.jl documentation","title":"PALEOcopse.jl documentation","text":"Start julia and navigate to the PALEOcopse folder, then:","category":"page"},{"location":"","page":"PALEOcopse.jl documentation","title":"PALEOcopse.jl documentation","text":"julia> cd(\"examples/COPSE\")\njulia> import Pkg\njulia> Pkg.activate(\"..\") # use the PALEOcopse/examples environment\n\njulia> include(\"COPSE_reloaded_reloaded.jl\")","category":"page"},{"location":"#Evaluation-data","page":"PALEOcopse.jl documentation","title":"Evaluation data","text":"","category":"section"},{"location":"","page":"PALEOcopse.jl documentation","title":"PALEOcopse.jl documentation","text":"Datasets are not part of the public release but are available on request from the authors.","category":"page"},{"location":"#Using-PALEOcopse-Reactions-from-other-models","page":"PALEOcopse.jl documentation","title":"Using PALEOcopse Reactions from other models","text":"","category":"section"},{"location":"","page":"PALEOcopse.jl documentation","title":"PALEOcopse.jl documentation","text":"The PALEO Reactions comprising the COPSE model are available when the registered PALEOcopse package is loaded (without downloading the repository), ie","category":"page"},{"location":"","page":"PALEOcopse.jl documentation","title":"PALEOcopse.jl documentation","text":"julia> Pkg.add(\"PALEOcopse\")\njulia> import PALEOcopse","category":"page"}]
}
